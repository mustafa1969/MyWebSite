
<!DOCTYPE html>
<html ng-app="app">

  <head>
    <link data-require="bootstrap-css@3.2.0" data-semver="3.2.0" rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
     <script data-require="jquery@2.1.1" data-semver="2.1.1" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
     <script data-require="angular.js@1.3.0" data-semver="1.3.0" src="https://code.angularjs.org/1.3.0/angular.js"></script>
   
    
    <link rel="stylesheet" href="style.css" />
    <script src="script.js"></script>
  </head>

  <body ng-controller="mainCtrl" class="container" stype="padding-top:30px">
    <h1>Hello Plunker!</h1>
    <video id="vid" spacebar-support event-pause="handlePause()"  controls preload="none" poster="http://www.planwallpaper.com/static/images/canberra_hero_image_JiMVvYU.jpg">
      <source src="http://media.w3.org/2010/05/sintel/trailer.mp4" type="video/mp4"></source>
        <source src="http://media.w3.org/2010/05/sintel/trailerwebm5" type="video/webm"></source>
        <source src="http://media.w3.org/2010/05/sintel/trailer.ogv" type="video/ogg"></source>
    </video>
   <div ng-repeat="message in messages">{{message.text}}</div>
  </body>

</html>
 







// Code goes here script.js

angular.module('app',[]);
angular.module('app').controller('mainCtrl', function($scope){
$scope.messages =[];
 $scope.handlePause= function(){
    $scope.messages.push({text:'paused!'});
     console.log('paused!');
   }


 });


angular.module('app').directive('eventPause', function(){

  return {
    restrict: "A",
    scope: {
      eventPause: '&'
    },
   link: function(scope, el, attrs){
       el.on('pause', function(event){
        scope.$apply(function(){
           scope.eventPause();
        })
      })
    }  
  }
})




angular.module('app').directive('spacebarSupport', function(){

  return {
    restrict: "A",
    link: function(scope, el, attrs){
      $('body').on('keypress', function(evt){
        var vidEl = el[0];
        if(evt.keyCode === 32){
          if(vidEl.paused){
            vid.play();
          }else{
            vidEl.pause();
          }
          
        }
      })
    }
  }
});
